/*
 * stickytable 1.0.0
 * Make table row headers and column headers sticky
 * 
 *
 * Copyright 2016, Amiel Zwier <hi@amielzwier.com> (http://amielzwier.com)
 * Released under the MIT license.
*/

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Stickytable=e()}}(function(){return function e(t,r,i){function l(n,s){if(!r[n]){if(!t[n]){var p="function"==typeof require&&require;if(!s&&p)return p(n,!0);if(o)return o(n,!0);var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}var h=r[n]={exports:{}};t[n][0].call(h.exports,function(e){var r=t[n][1][e];return l(r?r:e)},h,h.exports,e,t,r,i)}return r[n].exports}for(var o="function"==typeof require&&require,n=0;n<i.length;n++)l(i[n]);return l}({1:[function(e,t,r){"use strict";function i(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var r=document.createElement("div");r.style.width="100%",e.appendChild(r);var i=r.offsetWidth;return e.parentNode.removeChild(e),t-i}Object.defineProperty(r,"__esModule",{value:!0}),r.default=i},{}],2:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=e("./ScrollbarWidth"),s=i(n),p=function(){function e(t,r){var i=this;if(l(this,e),!t)throw"Stickytable: no element passed.";var o={rowSelector:"tr",width:"100%",height:"auto"};this.options=Object.assign({},o,r),this._updateScroll=this._updateScroll.bind(this),this._onWindowResize=this._onWindowResize.bind(this),this.rowSelector=this.options.rowSelector,this.scrollBarWidth=(0,s.default)(),this.oldEl=t,this.parent=t.parentNode,this.elMain=t.cloneNode(!0),this.elTop=t.cloneNode(!0),this.elSide=t.cloneNode(!0),this.elCorner=t.cloneNode(!0),this.elMainWrapper=document.createElement("div"),this.elTopWrapper=document.createElement("div"),this.elSideWrapper=document.createElement("div"),this.elCornerWrapper=document.createElement("div"),this.elWrapper=document.createElement("div"),this.elWrapper.appendChild(this.elMainWrapper),this.elWrapper.appendChild(this.elTopWrapper),this.elWrapper.appendChild(this.elSideWrapper),this.elWrapper.appendChild(this.elCornerWrapper),this.elMainWrapper.appendChild(this.elMain),this.elSideWrapper.appendChild(this.elSide),this.elTopWrapper.appendChild(this.elTop),this.elCornerWrapper.appendChild(this.elCorner),this.elMainWrapper.addEventListener("scroll",this._updateScroll),window.addEventListener("resize",this._onWindowResize),this._updateStyles(t),this.parent.replaceChild(this.elWrapper,t),window.addEventListener("load",function(){i._updateStyles(i.elMain)})}return o(e,[{key:"_onWindowResize",value:function(){this.refresh()}},{key:"_updateStyles",value:function(e){var t=this._getCornerDimensions(e),r=t.width,i=t.height,l=e.offsetWidth,o=e.offsetHeight,n=[this.elMain,this.elTop,this.elSide,this.elCorner],s=[this.elCornerWrapper,this.elTopWrapper,this.elSideWrapper,this.elMainWrapper];s.forEach(function(e){e.style.position="absolute",e.style.top=0,e.style.left=0}),n.forEach(function(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width=l,e.style.height=o}),this.elWrapper.style.position="relative",this.elWrapper.style.overflow="hidden",this.elWrapper.style.height="auto"===this.options.height?e.offsetHeight+this.scrollBarWidth:this.options.height,this.elWrapper.style.width="auto"===this.options.width?e.offsetWidth+this.scrollBarWidth:this.options.width,this.elCornerWrapper.style.overflow="hidden",this.elCornerWrapper.style.width=r+"px",this.elCornerWrapper.style.height=i+"px",this.elCornerWrapper.style["pointer-events"]="none",this.elTopWrapper.style.right=this.scrollBarWidth+"px",this.elTopWrapper.style.overflow="hidden",this.elTopWrapper.style.height=i+"px",this.elTopWrapper.style["pointer-events"]="none",this.elSideWrapper.style.bottom=this.scrollBarWidth+"px",this.elSideWrapper.style.overflow="hidden",this.elSideWrapper.style.width=r+"px",this.elSideWrapper.style["pointer-events"]="none",this.elMainWrapper.style.right="0",this.elMainWrapper.style.bottom="0",this.elMainWrapper.style.overflow="scroll",this.elMainWrapper.style["-webkit-overflow-scrolling"]="touch"}},{key:"_updateScroll",value:function(){var e=this.elMainWrapper.scrollLeft,t=this.elMainWrapper.scrollTop;this.elTop.style.transform="translateX("+-e+"px)",this.elSide.style.transform="translateY("+-t+"px)"}},{key:"_getCornerDimensions",value:function(e){var t=e.querySelector(this.rowSelector),r=t.firstElementChild,i=r.offsetWidth,l=r.offsetHeight;if("TABLE"===e.tagName||"table"===e.style.display){var o=getComputedStyle(e,null),n=o.getPropertyValue("border-collapse");if("collapse"===n){var s=getComputedStyle(r,null),p=parseInt(s.getPropertyValue("border-left-width")),a=parseInt(s.getPropertyValue("border-right-width")),h=parseInt(s.getPropertyValue("border-top-width")),d=parseInt(s.getPropertyValue("border-bottom-width"));l=l+h/2+d/2,i=i+p/2+a/2}else{var u=parseInt(o.getPropertyValue("border-spacing"));i+=u,l+=u}}return{width:i,height:l}}},{key:"scrollX",value:function(e){this.elMainWrapper.scrollLeft=e}},{key:"scrollY",value:function(e){this.elMainWrapper.scrollTop=e}},{key:"destroy",value:function(){this.elMainWrapper.removeEventListener("scroll",this._updateScroll),this.parent.replaceChild(this.oldEl,this.elWrapper),this.parent=null,this.elMain=null,this.elTop=null,this.elSide=null,this.elCorner=null,this.elWrapper=null,this.elMainWrapper=null,this.elSideWrapper=null,this.elTopWrapper=null,this.elCornerWrapper=null}},{key:"refresh",value:function(){this._updateStyles(this.elMain)}}]),e}();t.exports=p},{"./ScrollbarWidth":1}]},{},[2])(2)});